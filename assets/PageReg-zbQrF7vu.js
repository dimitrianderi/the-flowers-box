import{u as M,a as d,c,A as q,b as C}from"./vee-validate.esm-g_Wn_HSI.js";import{u as R,m as U,r as f,p as l,q as S,_ as B,b as V,c as F,d as k,e as O,i as n,w as I}from"./index-2VeXQr7J.js";function X(){const{handleSubmit:e,isSubmitting:r,submitCount:u}=M(),v=R(),i=U(),m=6,o=12,s=f(!1),a=f(!1),h=f(!1),p=l(()=>i.getErrAuth),{value:b,errorMessage:w}=d("email",c().trim().email("the email address is entered incorrectly").required("fill in this field")),{value:g,errorMessage:A}=d("password",c().trim().required("fill in this field").min(m,`the password must be at least ${m} characters long`)),{value:N,errorMessage:_}=d("name",c().trim().required("fill in this field").max(o,`the name must be no more than ${o} characters`)),P=e(async t=>{try{await i.reg(t),v.push("/the-flowers-box")}catch{}});return S(u,t=>{t>0&&(s.value=!0,a.value=!0,h.value=!0)}),S([b,g],([t,E],[$,y])=>{u.value=0,s.value=t!==$?!1:s.value,a.value=E!==y?!1:a.value}),{email:b,errorEmail:l(()=>s.value?w.value||p.value:""),pass:g,errorPass:l(()=>a.value?A.value||p.value:""),name:N,errorName:l(()=>h.value?_.value||p.value:""),isSubmitting:r,onSubmit:P}}const j={components:{AppForm:q,AppControl:C},setup(){return{...X()}}},z={class:"auth_reg"},D={class:"auth_reg__wrapper"};function G(e,r,u,v,i,m){const o=V("app-control"),s=V("app-form");return F(),k("section",z,[O("div",D,[n(s,{title:"Registration","btn-text":"Sign Up","is-submitting":e.isSubmitting,onOnSubmit:e.onSubmit},{default:I(()=>[n(o,{id:"name",modelValue:e.name,"onUpdate:modelValue":r[0]||(r[0]=a=>e.name=a),name:"auth",type:"text",label:"Name",error:e.errorName,autocomplete:"off"},null,8,["modelValue","error"]),n(o,{id:"email",modelValue:e.email,"onUpdate:modelValue":r[1]||(r[1]=a=>e.email=a),name:"auth",type:"email",label:"Email",error:e.errorEmail,autocomplete:"on"},null,8,["modelValue","error"]),n(o,{id:"pass",modelValue:e.pass,"onUpdate:modelValue":r[2]||(r[2]=a=>e.pass=a),name:"auth",type:"password",label:"Password",error:e.errorPass,autocomplete:"on"},null,8,["modelValue","error"])]),_:1},8,["is-submitting","onOnSubmit"])])])}const K=B(j,[["render",G]]);export{K as default};
