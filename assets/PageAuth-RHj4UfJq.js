import{u as P,a as h,c as b,A as $,b as y}from"./vee-validate.esm-f-gmP9H5.js";import{u as C,m as q,r as v,p as i,q as g,_ as B,b as _,c as F,d as M,e as N,i as m,w as k}from"./index-xZ_JzXsI.js";function I(){const{handleSubmit:e,isSubmitting:s,submitCount:l}=P(),p=C(),n=q(),u=6,a=v(!1),r=v(!1),t=i(()=>n.getErrAuth),{value:c,errorMessage:S}=h("email",b().trim().email("the email address is entered incorrectly").required("fill in this field")),{value:d,errorMessage:w}=h("password",b().trim().required("fill in this field").min(u,`the password must be at least ${u} characters long`)),A=e(async o=>{try{await n.login(o),p.push("/the-flowers-box")}catch{}});return g(l,o=>{o>0&&(a.value=!0,r.value=!0)}),g([c,d],([o,f],[E,V])=>{l.value=0,a.value=o!==E?!1:a.value,r.value=f!==V?!1:r.value}),{email:c,errorEmail:i(()=>a.value?S.value||t.value:""),pass:d,errorPass:i(()=>r.value?w.value||t.value:""),isSubmitting:s,onSubmit:A}}const O={components:{AppForm:$,AppControl:y},setup(){return{...I()}}},U={class:"auth_reg"},z={class:"auth_reg__wrapper"};function L(e,s,l,p,n,u){const a=_("app-control"),r=_("app-form");return F(),M("section",U,[N("div",z,[m(r,{title:"Authorization","btn-text":"Log In","is-submitting":e.isSubmitting,onOnSubmit:e.onSubmit},{default:k(()=>[m(a,{id:"email",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=t=>e.email=t),name:"auth",type:"email",label:"Email",error:e.errorEmail,autocomplete:"on"},null,8,["modelValue","error"]),m(a,{id:"pass",modelValue:e.pass,"onUpdate:modelValue":s[1]||(s[1]=t=>e.pass=t),name:"auth",type:"password",label:"Password",error:e.errorPass,autocomplete:"on"},null,8,["modelValue","error"])]),_:1},8,["is-submitting","onOnSubmit"])])])}const D=B(O,[["render",L]]);export{D as default};
