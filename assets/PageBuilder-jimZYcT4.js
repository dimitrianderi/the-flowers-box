import{A as B}from"./AppAccordion-bG0IDLFc.js";import{A as G,a as S,f as P,g as R,p as N,c as T,t as H}from"./AppAlert-kfI0hmfl.js";import{_ as V,J as I,P as q,r as C,p as c,b as w,c as o,d as l,e as n,t as a,F as p,f as g,i as _,h as x,Q as L,R as M,v as E,O as J,g as b,w as y}from"./index-xZ_JzXsI.js";import"./getImageUrl-GZGfcVc1.js";const O={components:{AppLinkIcon:I},setup(){const i=q(),r=C(""),h=C(!1),e=c(()=>i.getViews),m=c(()=>i.getFlowers),v=c(()=>i.getCompositions),d=c(()=>i.getPackagings),t=c(()=>i.getGreeneries),u=c(()=>i.getResultCost),k=async()=>{try{h.value=!0,await i.submitHandler(r.value),r.value=""}catch{}finally{h.value=!1}},s=c(()=>r.value.trim()&&e.value.length&&m.value.length&&v.value.length&&d.value.length);return{views:e,flowers:m,compositions:v,packagings:d,greeneries:t,resultCost:u,name:r,isValidate:s,submitHandler:k,deleteGreenery:()=>{i.cleanGreenery()},deleteFlower:A=>{i.cleanFlower(A)},isSubmitting:h}}},Q={class:"info__title"},U=n("span",null,"Your bouquet",-1),Y={key:0,class:"info__block"},j=n("span",null,"Bouquet ingredients",-1),z={key:1,class:"info__block"},K=n("span",null,"Bouquet packaging",-1),W={key:2,class:"info__block"},X=n("span",null,"Bouquet composition",-1),Z={class:"info__advanced"},$=n("span",null,a("Type"),-1),ee={class:"info__advanced__content"},te=n("span",null,a("Name"),-1),ne=["disabled"];function se(i,r,h,e,m,v){const d=w("app-link-icon");return o(),l("form",{class:"info",onSubmit:r[1]||(r[1]=E(t=>e.submitHandler(),["prevent"]))},[n("div",Q,[U,n("span",null,a(e.resultCost?e.resultCost:"0.00")+" $",1)]),e.flowers.length||e.greeneries.length?(o(),l("div",Y,[j,(o(!0),l(p,null,g(e.flowers,t=>(o(),l("div",{key:t.title,class:"info__block__content"},[n("span",null,a(t.title)+", "+a(t.amount)+" pcs.",1),n("span",null,a(t.res)+"$",1),_(d,{class:"info__block__content-icon","icon-class":"fa-solid fa-trash",onClick:u=>e.deleteFlower(t.title)},null,8,["onClick"])]))),128)),(o(!0),l(p,null,g(e.greeneries,t=>(o(),l("div",{key:t.title,class:"info__block__content"},[n("span",null,a(t.title)+", "+a(t.amount)+" pcs. ",1),n("span",null,a(t.res)+"$ ",1),_(d,{class:"info__block__content-icon","icon-class":"fa-solid fa-trash",onClick:e.deleteGreenery},null,8,["onClick"])]))),128))])):x("",!0),e.packagings.length?(o(),l("div",z,[K,(o(!0),l(p,null,g(e.packagings,t=>(o(),l("div",{key:t.title,class:"info__block__content"},[n("span",null,a(t.title),1),n("span",null,a(t.price)+"$",1)]))),128))])):x("",!0),e.compositions.length?(o(),l("div",W,[X,(o(!0),l(p,null,g(e.compositions,t=>(o(),l("div",{key:t.title,class:"info__block__content"},[n("span",null,a(t.title),1),n("span",null,"x"+a(t.price),1)]))),128))])):x("",!0),n("div",Z,[(o(!0),l(p,null,g(e.views,t=>(o(),l("div",{key:t.title,class:"info__advanced__content"},[$,n("span",null,a(t.title),1)]))),128)),n("div",ee,[te,L(n("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>e.name=t),class:"info__advanced__content-input",type:"text",maxlength:"20"},null,512),[[M,e.name]])])]),n("button",{id:"name",type:"submit",class:"info-btn",disabled:!e.isValidate||e.isSubmitting}," Compile ",8,ne)],32)}const oe=V(O,[["render",se]]),ie={components:{AppAccordion:B,AppCollection:G,AppAlert:S,AppInfo:oe},setup(){const i=q(),r=J(),h=C(!1),e=f=>{i.addFlower({...f})},m=f=>{i.addGreenery({...f})},v=f=>{i.addPackaging({...f})},d=f=>{i.addComposition({...f})},t=f=>{i.addView({...f})},u=c(()=>r.getResponse),k=c(()=>i.getFlowers),s=c(()=>i.getGreeneries),D=c(()=>i.getPackagings),F=c(()=>i.getCompositions),A=c(()=>i.getViews);return{flowers:P,greeneries:R,packagings:N,compositions:T,types:H,addFlower:e,addGreenery:m,addPackaging:v,addComposition:d,addView:t,views:A,flowersArr:k,compositionsArr:F,packagingsArr:D,greeneriesArr:s,isResponse:h,response:u}}},le={class:"container builder"},ae={class:"response"},ce=n("h2",{class:"builder__title"}," Builder ",-1),re=n("div",{class:"builder__description"}," follow the steps and create own bouquet! ",-1),de={class:"builder__wrapper"},_e={class:"builder__stages"},ue={class:"builder__stages__content"},pe={class:"builder__stages__content"},ge={class:"builder__stages__content"},fe={class:"builder__stages__content"},he={class:"builder__stages__content"},me={class:"builder__info"};function ve(i,r,h,e,m,v){const d=w("app-alert"),t=w("app-collection"),u=w("app-accordion"),k=w("app-info");return o(),l("section",le,[n("div",ae,[e.response.length?(o(),b(d,{key:0,text:e.response},null,8,["text"])):x("",!0)]),ce,re,n("div",de,[n("div",_e,[_(u,{id:"flowers",idx:0,title:"Choose one or more flowers"},{default:y(()=>[_(d,{text:"Choose the quantity (1-100) and add to cart"}),n("div",ue,[(o(!0),l(p,null,g(e.flowers,s=>(o(),b(t,{key:s,collection:"flowers","text-btn":"add",title:s.title,price:s.price,"is-input":!0,"is-price":!0,active:e.flowersArr,url:s.title,onAddData:e.addFlower},null,8,["title","price","active","url","onAddData"]))),128))])]),_:1}),_(u,{id:"greeneries",idx:1,title:"Choose the greeneries"},{default:y(()=>[_(d,{text:"The quantity of greenery will be equal to the quantity of flowers"}),n("div",pe,[(o(!0),l(p,null,g(e.greeneries,s=>(o(),b(t,{key:s,collection:"greeneries","text-btn":"select",title:s.title,price:s.price,"is-price":!0,active:e.greeneriesArr,url:s.title,onAddData:e.addGreenery},null,8,["title","price","active","url","onAddData"]))),128))])]),_:1}),_(u,{id:"packagings",idx:2,title:"Choose the packagings"},{default:y(()=>[n("div",ge,[(o(!0),l(p,null,g(e.packagings,s=>(o(),b(t,{key:s,collection:"packagings","text-btn":"select",title:s.title,price:s.price,"is-price":!0,active:e.packagingsArr,url:s.title,onAddData:e.addPackaging},null,8,["title","price","active","url","onAddData"]))),128))])]),_:1}),_(u,{id:"compositions",idx:3,title:"Choose the compositions"},{default:y(()=>[_(d,{text:"The final price will be multiplied by a coefficient"}),n("div",fe,[(o(!0),l(p,null,g(e.compositions,s=>(o(),b(t,{key:s,collection:"compositions","text-btn":"select",title:s.title,price:s.price,"is-price":!1,active:e.compositionsArr,url:s.title,onAddData:e.addComposition},null,8,["title","price","active","url","onAddData"]))),128))])]),_:1}),_(u,{id:"views",idx:4,title:"Choose the type of bouquet"},{default:y(()=>[n("div",he,[(o(!0),l(p,null,g(e.types,s=>(o(),b(t,{key:s,collection:"types","text-btn":"select",title:s.title,"is-price":!1,active:e.views,url:s.title,onAddData:e.addView},null,8,["title","active","url","onAddData"]))),128))])]),_:1})]),n("div",me,[_(k)])])])}const Ae=V(ie,[["render",ve]]);export{Ae as default};
